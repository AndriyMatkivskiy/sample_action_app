name: PR Checks Monitor

permissions:
  contents: read
  checks: read
  pull-requests: write
  issues: write
  statuses: read

on:
  workflow_run:
    workflows: ["Lint check", "Format check", "Unit Tests"]
    types: [completed]

jobs:
  pr-checks-monitor:
    name: PR Checks Monitor
    runs-on: ubuntu-latest
   
    if: ${{ github.event.workflow_run.event == 'pull_request' }}

    steps:
      - name: Process PR checks and update status
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run:  gh pr ready 12
